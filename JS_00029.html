<!DOCTYPE html>
<style>
body {background: darkgray;}
.app {
  height: 80px;
  width: 400px;
  padding: 20px;
  background-color: white;
  border-radius: 4px;
}

.progress {
  width: 340px;
  height: 30px;
  background-color: #F5F5F5;
  border-radius: 4px;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.1);
}

.progress-bar {
  height: 100%;
  background-color: #337AB7;
  border-radius: 4px;
}

#retry {
  margin-bottom:5px;
  cursor:pointer;
  border-radius: 2px;
}

</style>
<body>
<div class="app">
  <button id="retry">Retry</button>
  <div id="prog-bar" class="progress">
    <div class="progress-bar"></div>
  </div>
</div>
<script>
(function() {
 'use strict';

   const bar = document.querySelectorAll('#prog-bar > .progress-bar')[0];
   var p = 100;
   var timerId = setInterval(timer,1);
   function timer() {
     if (0 < p) { p -= 0.1; }
     bar.style.width = p + '%';
   }
   function retry() {
     p = 100;
     bar.style.width = p + '%';
   }
   document.getElementById('retry').addEventListener('click',retry);

  })();
</script>
</body>
</html>
